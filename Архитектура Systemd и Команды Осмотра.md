
#### Теория: Основы

1. **PID 1:** Systemd — это первый процесс, запускаемый ядром Linux (PID 1). Он "родитель" всех остальных процессов. Если упадет Systemd — упадет весь сервер (kernel panic).
    
2. **Юниты (Units):** В Systemd всё есть "Unit". Это объекты, которыми он управляет. Они имеют расширения:
    
    - `.service` — службы (nginx, docker, sshd). Самый частый тип.
    - `.socket` — сетевые сокеты (активация сервиса при обращении к порту).
    - `.target` — группы юнитов (аналог runlevels: `multi-user.target` — режим консоли, `graphical.target` — режим с GUI).
    - `.timer` — расписание запуска.
3. **Параллелизация:** В отличие от старого init (SysV), Systemd запускает сервисы параллельно, что ускоряет загрузку.
4. **Состояния:** Юнит может быть `active (running)`, `inactive (dead)`, `active (exited)` (отработал и вышел, нормально для скриптов) или `failed` (ошибка).
5. **Enable vs Start:**
    - `start` — запустить сейчас.
    - `enable` — добавить в автозагрузку (создать симлинк). Это **разные** действия.

#### Синтаксис и Примеры

**1. Проверка статуса конкретного сервиса** Самая частая команда. Показывает PID, статус, последние логи и путь к конфигу.


```Bash
# Синтаксис: systemctl status <имя_сервиса>
systemctl status sshd
```

_Вывод покажет зеленую точку (если active) или красную (если failed)._

**2. Список всех активных юнитов**


```Bash
# Показывает только загруженные и активные юниты
systemctl list-units
```

**3. Фильтрация по типу (Best Practice)** В реальной жизни юнитов сотни. Всегда фильтруй вывод.


```Bash
# Показать только сервисы (без маунтов, девайсов и свопов)
systemctl list-units --type=service
```

**4. Поиск всех "упавших" сервисов (Must Know)** Первое, что делает DevOps, заходя на сломанный сервер.


```Bash
systemctl list-units --state=failed
```